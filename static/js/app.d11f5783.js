(function(r){function t(t){for(var e,o,s=t[0],c=t[1],u=t[2],f=0,l=[];f<s.length;f++)o=s[f],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&l.push(n[o][0]),n[o]=0;for(e in c)Object.prototype.hasOwnProperty.call(c,e)&&(r[e]=c[e]);h&&h(t);while(l.length)l.shift()();return i.push.apply(i,u||[]),a()}function a(){for(var r,t=0;t<i.length;t++){for(var a=i[t],e=!0,s=1;s<a.length;s++){var c=a[s];0!==n[c]&&(e=!1)}e&&(i.splice(t--,1),r=o(o.s=a[0]))}return r}var e={},n={app:0},i=[];function o(t){if(e[t])return e[t].exports;var a=e[t]={i:t,l:!1,exports:{}};return r[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=r,o.c=e,o.d=function(r,t,a){o.o(r,t)||Object.defineProperty(r,t,{enumerable:!0,get:a})},o.r=function(r){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},o.t=function(r,t){if(1&t&&(r=o(r)),8&t)return r;if(4&t&&"object"===typeof r&&r&&r.__esModule)return r;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:r}),2&t&&"string"!=typeof r)for(var e in r)o.d(a,e,function(t){return r[t]}.bind(null,e));return a},o.n=function(r){var t=r&&r.__esModule?function(){return r["default"]}:function(){return r};return o.d(t,"a",t),t},o.o=function(r,t){return Object.prototype.hasOwnProperty.call(r,t)},o.p="/2048/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var h=c;i.push([0,"chunk-vendors"]),a()})({0:function(r,t,a){r.exports=a("56d7")},"034f":function(r,t,a){"use strict";a("85ec")},1320:function(r,t,a){},"4b0d":function(r,t,a){"use strict";a("1320")},"56d7":function(r,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var e=a("2b0e"),n=function(){var r=this,t=r.$createElement,a=r._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},i=[],o=(a("034f"),a("2877")),s={},c=Object(o["a"])(s,n,i,!1,null,null,null),u=c.exports,h=a("8c4f"),f=function(){var r=this,t=r.$createElement,a=r._self._c||t;return a("div",{staticClass:"game"},[a("header",[a("h1",{staticClass:"title"},[r._v("2048")]),a("div",{staticClass:"nav"},[a("div",{staticClass:"btn",on:{click:r.startGame}},[r._v("开始游戏")]),a("div",{staticClass:"score"},[a("span",[r._v("分数：")]),a("span",[r._v(r._s(r.score))])])])]),a("div",{staticClass:"borad"},r._l(r.array,(function(t,e){return a("div",{key:"row-"+e,staticClass:"rows"},r._l(t,(function(t,n){return a("div",{key:"cell-"+e+"-"+n,class:["cell",e+"-"+n],style:{"background-color":r.switchCellColor(t)}},[r._v(" "+r._s(0!=t?t:"")+" ")])})),0)})),0)])},l=[],v=(a("cb29"),a("4160"),a("d81d"),a("159b"),a("3835")),y={name:"game",data:function(){return{score:0,array:[]}},mounted:function(){this.initGame(),document.addEventListener("keydown",this.getKeyboardEvent)},methods:{startGame:function(){this.score=0,this.initGame()},initGame:function(){this.array=Array(4).fill(0).map((function(){return Array(4).fill(0)}));for(var r=0;r<2;r++)this.cell(this)},cell:function(r){function t(){return Math.random()<=.5?2:4}function a(r){var t=[];return r.forEach((function(r,a){r.forEach((function(r,e){0==r&&t.push([a,e])}))})),t[parseInt(Math.floor(Math.random()*t.length))]}try{var e=a(r.array),n=Object(v["a"])(e,2),i=n[0],o=n[1];return r.$set(this.array[i],o,t()),!0}catch(s){return!1}},gameOver:function(){},getBlockHorizontal:function(r,t,a,e){for(var n=t+1;n<a;n++)if(0!=e[r][n])return!1;return!0},getBlockVertical:function(r,t,a,e){for(var n=t+1;n<a;n++)if(0!=e[n][r])return!1;return!0},switchCellColor:function(r){switch(r){case 2:return"#eee4da";case 4:return"#ede0c8";case 8:return"#f2b179";case 16:return"#f59563";case 32:return"#f67c5f";case 64:return"#f65e3b";case 128:return"#edcf72";case 256:return"#edcc61";case 512:return"#9c0";case 1024:return"#33b5e5";case 2048:return"#09c";case 4096:return"#a6c";case 8192:return"#93c"}},getKeyboardEvent:function(r){switch(r.keyCode){case 37:this.moveLeft();break;case 38:this.moveUp();break;case 39:this.moveRight();break;case 40:this.moveDown();break}var t=this.cell(this);!t&&this.noMove(this.array)&&alert("游戏结束")},noMove:function(r){return!(this.canMoveLeft(r)||this.canMoveRight(r)||this.canMoveUp(r)||this.canMoveDown(r))},canMoveLeft:function(r){for(var t=0;t<4;t++)for(var a=0;a<4;a++)if(0!=r[t][a]&&0!=a&&(0==r[t][a-1]||r[t][a-1]==r[t][a]))return!0;return!1},canMoveRight:function(r){for(var t=0;t<4;t++)for(var a=0;a<4;a++)if(0!=r[t][a]&&3!=a&&(0==r[t][a+1]||r[t][a+1]==r[t][a]))return!0;return!1},canMoveUp:function(r){for(var t=0;t<4;t++)for(var a=0;a<4;a++)if(0!=r[t][a]&&0!=t&&(0==r[t-1][a]||r[t-1][a]==r[t][a]))return!0;return!1},canMoveDown:function(r){for(var t=0;t<4;t++)for(var a=0;a<4;a++)if(0!=r[t][a]&&3!=t&&(0==r[t+1][a]||r[t+1][a]==r[t][a]))return!0;return!1},moveLeft:function(){var r=this.canMoveLeft(this.array);if(!r)return!1;for(var t=0;t<4;t++)for(var a=1;a<4;a++)if(0!=this.array[t][a])for(var e=0;e<a;e++)0==this.array[t][e]&&this.getBlockHorizontal(t,e,a,this.array)?(this.array[t][e]=this.array[t][a],this.array[t][a]=0):this.array[t][e]==this.array[t][a]&&this.getBlockHorizontal(t,e,a,this.array)&&(this.array[t][e]+=this.array[t][a],this.array[t][a]=0,this.score+=this.array[t][e]);return!0},moveRight:function(){var r=this.canMoveRight(this.array);if(!r)return!1;for(var t=0;t<4;t++)for(var a=2;a>=0;a--)if(0!=this.array[t][a])for(var e=3;e>a;e--)0==this.array[t][e]&&this.getBlockHorizontal(t,a,e,this.array)?(this.array[t][e]=this.array[t][a],this.array[t][a]=0):this.array[t][e]==this.array[t][a]&&this.getBlockHorizontal(t,a,e,this.array)&&(this.array[t][e]+=this.array[t][a],this.array[t][a]=0,this.score+=this.array[t][e])},moveUp:function(){var r=this.canMoveUp(this.array);if(!r)return!1;for(var t=0;t<4;t++)for(var a=1;a<4;a++)if(0!=this.array[a][t])for(var e=0;e<a;e++)0==this.array[e][t]&&this.getBlockVertical(t,e,a,this.array)?(this.array[e][t]=this.array[a][t],this.array[a][t]=0):this.array[e][t]==this.array[a][t]&&this.getBlockVertical(t,e,a,this.array)&&(this.array[e][t]+=this.array[a][t],this.array[a][t]=0,this.score+=this.array[e][t])},moveDown:function(){var r=this.canMoveDown(this.array);if(!r)return!1;for(var t=0;t<4;t++)for(var a=2;a>=0;a--)if(0!=this.array[a][t])for(var e=3;e>a;e--)0==this.array[e][t]&&this.getBlockVertical(t,a,e,this.array)?(this.array[e][t]=this.array[a][t],this.array[a][t]=0):this.array[e][t]==this.array[a][t]&&this.getBlockVertical(t,a,e,this.array)&&(this.array[e][t]+=this.array[a][t],this.array[a][t]=0,this.score+=this.array[e][t])}}},d=y,p=(a("4b0d"),Object(o["a"])(d,f,l,!1,null,"35e00053",null)),b=p.exports;e["a"].use(h["a"]);var m=[{path:"/",name:"game",component:b}],g=new h["a"]({mode:"hash",base:"/2048/",routes:m}),w=g;e["a"].config.productionTip=!1,new e["a"]({router:w,render:function(r){return r(u)}}).$mount("#app")},"85ec":function(r,t,a){}});
//# sourceMappingURL=app.d11f5783.js.map